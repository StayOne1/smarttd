(function(){"use strict";var e={6151:function(e,t,a){var o=a(6848),r=function(){var e=this,t=e._self._c;return e.router?t("div",{attrs:{id:"app"}},[t("router-view")],1):e._e()},l=[],i={name:"App",data(){return{router:null}},created(){this.$router.onReady((()=>{this.router=this.$router}));const e=(e,t)=>{let a;return(...o)=>{a&&clearTimeout(a),a=setTimeout((()=>{e(...o)}),t)}},t=window.ResizeObserver;window.ResizeObserver=class extends t{constructor(t){t=e(t,200),super(t)}}}},s=i,n=a(1656),c=(0,n.A)(s,r,l,!1,null,null,null),d=c.exports,u=a(6178),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("el-card",{staticClass:"login-card",attrs:{shadow:"hover"}},[t("h3",{staticClass:"text-center",attrs:{slot:"header"},slot:"header"},[e._v("用户登录")]),t("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("登录")])],1)],1)],1)],1)},p=[],h=a(8355),b=a(9143),v=a.n(b);const g="token";function f(){return localStorage.getItem(g)}function F(e){return localStorage.setItem(g,e)}function y(e){return localStorage.setItem("username",e)}var x={data(){return{loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm(){""!==this.loginForm.username&&""!==this.loginForm.password?"admin"==this.loginForm.username&&"admin"==this.loginForm.password?(F("admin"),y("admin"),b.MessageBox.alert("登录成功","提示",{confirmButtonText:"确定",callback:()=>{this.$router.replace("/admin")}})):this.$refs.loginForm.validate((e=>{if(!e)return console.log("表单验证失败"),!1;{const e="/api/login";h.A.post(e,this.loginForm).then((e=>{1===e.data.code?(F(e.data.data),y(this.loginForm.username),b.MessageBox.alert("登录成功","提示",{confirmButtonText:"确定",callback:()=>{this.$router.replace("/dashborad")}})):b.MessageBox.alert("账号或密码错误","登陆失败",{confirmButtonText:"确定"})})).catch((e=>{console.error("登录失败:",e),b.MessageBox.alert("服务器错误","提示",{confirmButtonText:"确定"})}))}})):b.MessageBox.alert("用户名或密码不能为空","提示",{confirmButtonText:"确定"})}}},S=x,_=(0,n.A)(S,m,p,!1,null,"57834988",null),C=_.exports,k=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-header",{staticStyle:{"font-family":"Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji","font-size":"40px",color:"#FFFFFF","background-color":"#0665d0"}},[e._v("环境温湿度检测系统")]),t("el-container",[t("el-aside",{attrs:{width:"230px",height:"100%"}},[t("h1",[e._v("系统管理")]),t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"true","default-active":"/device",height:"100%"},on:{open:e.handleOpen,close:e.handleClose}},[t("el-menu-item",{attrs:{index:"/device"}},[t("i",{staticClass:"el-icon-cpu"}),t("span",[e._v("设备管理")])]),t("el-menu-item",{attrs:{index:"/sensor"}},[t("i",{staticClass:"el-icon-odometer"}),t("span",[e._v("温湿度数据")])]),t("el-menu-item",{attrs:{index:"/dashborad"}},[t("i",{staticClass:"el-icon-monitor"}),t("span",[e._v("数据可视化")])])],1)],1),t("el-main",{staticStyle:{"background-color":"#F2F6FC"}},[t("div",[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[t("el-form-item",{attrs:{label:"id"}},[t("el-input",{attrs:{placeholder:"ID"},model:{value:e.searchForm.id,callback:function(t){e.$set(e.searchForm,"id",t)},expression:"searchForm.id"}})],1),t("el-form-item",{attrs:{label:"状态"}},[t("el-select",{attrs:{placeholder:"状态"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[t("el-option",{attrs:{label:"启用",value:"1"}}),t("el-option",{attrs:{label:"停用",value:"0"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),t("el-button",{attrs:{type:"primary"},on:{click:e.onSava}},[e._v("新增")])],1)],1),t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"  ID",width:"80"}}),t("el-table-column",{attrs:{prop:"ip",label:"  IP地址",width:"180"}}),t("el-table-column",{attrs:{prop:"port",label:"  端口号",width:"80"}}),t("el-table-column",{attrs:{prop:"model",label:"  设备型号",width:"180"}}),t("el-table-column",{attrs:{label:"状态",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.status?"启用":"停用")+" ")]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.edit(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("删除")])]}}])})],1),t("el-dialog",{attrs:{visible:e.savaDialogVisible,title:"新增设备数据"},on:{"update:visible":function(t){e.savaDialogVisible=t},close:e.handleCloseSavaDialog}},[t("el-form",{ref:"savaForm",attrs:{model:e.savaForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"IP地址"}},[t("el-input",{model:{value:e.savaForm.ip,callback:function(t){e.$set(e.savaForm,"ip",t)},expression:"savaForm.ip"}})],1),t("el-form-item",{attrs:{label:"端口号"}},[t("el-input",{model:{value:e.savaForm.port,callback:function(t){e.$set(e.savaForm,"port",t)},expression:"savaForm.port"}})],1),t("el-form-item",{attrs:{label:"设备型号"}},[t("el-input",{model:{value:e.savaForm.model,callback:function(t){e.$set(e.savaForm,"model",t)},expression:"savaForm.model"}})],1),t("el-form-item",{attrs:{label:"状态"}},[t("el-select",{attrs:{placeholder:"状态"},model:{value:e.savaForm.status,callback:function(t){e.$set(e.savaForm,"status",t)},expression:"savaForm.status"}},[t("el-option",{attrs:{label:"启用",value:"1"}}),t("el-option",{attrs:{label:"停用",value:"0"}})],1)],1),t("el-button",{attrs:{type:"primary"},on:{click:e.saveData}},[e._v("保存")])],1)],1),t("el-dialog",{attrs:{visible:e.editDialogVisible,title:"编辑设备数据"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.handleCloseEditDialog}},[t("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"ID"}},[t("el-input",{attrs:{disabled:""},model:{value:e.editForm.id,callback:function(t){e.$set(e.editForm,"id",t)},expression:"editForm.id"}})],1),t("el-form-item",{attrs:{label:"IP地址"}},[t("el-input",{model:{value:e.editForm.ip,callback:function(t){e.$set(e.editForm,"ip",t)},expression:"editForm.ip"}})],1),t("el-form-item",{attrs:{label:"端口号"}},[t("el-input",{model:{value:e.editForm.port,callback:function(t){e.$set(e.editForm,"port",t)},expression:"editForm.port"}})],1),t("el-form-item",{attrs:{label:"设备型号"}},[t("el-input",{model:{value:e.editForm.model,callback:function(t){e.$set(e.editForm,"model",t)},expression:"editForm.model"}})],1),t("el-form-item",{attrs:{label:"状态"}},[t("el-select",{attrs:{placeholder:"状态"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[t("el-option",{attrs:{label:"启用",value:"1"}}),t("el-option",{attrs:{label:"停用",value:"0"}})],1)],1),t("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("保存")])],1)],1),t("br"),t("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},w=[],D={data(){return{tableData:[],searchForm:{id:"",status:""},pagination:{page:1,pageSize:10,total:10},editDialogVisible:!1,editForm:{id:"",ip:"",port:"",model:"",status:""},savaDialogVisible:!1,savaForm:{ip:"",port:"",model:"",status:""}}},created(){this.queryAllData()},methods:{onSubmit:function(){this.updateTable()},handleSizeChange:function(e){this.pagination.pageSize=e,this.updateTable()},handleCurrentChange:function(e){this.pagination.page=e,this.updateTable()},queryAllData(){h.A.get("/api/device",{headers:{token:f()}}).then((e=>{this.pagination.total=e.data.data.total,this.tableData=e.data.data.rows})).catch((e=>{console.error("请求失败:",e)}))},updateTable(){let e={id:this.searchForm.id,status:this.searchForm.status,page:this.pagination.page,pageSize:this.pagination.pageSize,total:this.pagination.total};h.A.get("/api/device",{headers:{token:f()},params:e}).then((e=>{this.pagination.total=e.data.data.total,this.tableData=e.data.data.rows})).catch((e=>{console.error("请求失败:",e)}))},edit(e){this.editForm={...e},this.editDialogVisible=!0},onSava(){this.savaDialogVisible=!0},saveEdit(){h.A.put("/api/device/update",this.editForm,{headers:{token:f()}}).then((e=>{this.editDialogVisible=!1,this.updateTable()})).catch((e=>{console.error("更新数据失败：",e)}))},saveData(){h.A.post("/api/device",this.savaForm,{headers:{token:f()}}).then((e=>{this.savaDialogVisible=!1,this.updateTable()})).catch((e=>{console.error("保存数据失败：",e)}))},handleCloseEditDialog(){this.editForm={}},handleCloseSavaDialog(){this.savaForm={}}},mounted(){}},A=D,z=(0,n.A)(A,k,w,!1,null,null,null),T=z.exports,I=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-header",{staticStyle:{"font-family":"Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji","font-size":"40px",color:"#FFFFFF","background-color":"#0665d0"}},[e._v("环境温湿度检测系统")]),t("el-container",[t("el-aside",{attrs:{width:"230px",height:"100%"}},[t("h1",[e._v("系统管理")]),t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"true","default-active":"/sensor",height:"100%"}},[t("el-menu-item",{attrs:{index:"/device"}},[t("i",{staticClass:"el-icon-cpu"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("设备管理")])]),t("el-menu-item",{attrs:{index:"/sensor"}},[t("i",{staticClass:"el-icon-odometer"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("温湿度数据")])]),t("el-menu-item",{attrs:{index:"/dashborad"}},[t("i",{staticClass:"el-icon-monitor"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("数据可视化")])])],1)],1),t("el-main",{staticStyle:{"background-color":"#F2F6FC"}},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[t("el-form-item",{attrs:{label:"设备ID"}},[t("el-input",{attrs:{placeholder:"设备ID"},model:{value:e.searchForm.deviceId,callback:function(t){e.$set(e.searchForm,"deviceId",t)},expression:"searchForm.deviceId"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"  ID",width:"80"}}),t("el-table-column",{attrs:{prop:"deviceId",label:"  设备ID",width:"180"}}),t("el-table-column",{attrs:{prop:"temperature",label:"  温度",width:"80"}}),t("el-table-column",{attrs:{prop:"humidity",label:"  湿度",width:"180"}}),t("el-table-column",{attrs:{prop:"createTime",label:"时间",width:"180"}}),t("el-table-column",{attrs:{label:"操作"}},[t("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"mini"}},[e._v("删除")])],1)],1),t("br"),t("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},$=[],j={data(){return{tableData:[],searchForm:{deviceId:""},pagination:{page:1,pageSize:10,total:10}}},created(){this.queryAllData()},methods:{updateTable(){let e={deviceId:this.searchForm.deviceId,page:this.pagination.page,pageSize:this.pagination.pageSize};h.A.get("/api/sensor",{headers:{token:f()},params:e}).then((e=>{this.pagination.total=e.data.data.total,this.tableData=e.data.data.rows})).catch((e=>{console.error("查询失败：",e)}))},onSubmit:function(){this.updateTable()},handleSizeChange:function(e){this.pagination.pageSize=e,this.updateTable()},handleCurrentChange:function(e){this.pagination.page=e,this.updateTable()},queryAllData(){h.A.get("/api/sensor",{headers:{token:f()}}).then((e=>{this.pagination.total=e.data.data.total,this.tableData=e.data.data.rows})).catch((e=>{console.error("请求失败:",e)}))}},mounted(){}},O=j,P=(0,n.A)(O,I,$,!1,null,null,null),E=P.exports,B=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-header",{staticStyle:{"font-family":"Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji","font-size":"40px",color:"#FFFFFF","background-color":"#0665d0"}},[e._v("环境温湿度检测系统")]),t("el-container",[t("el-aside",{attrs:{width:"230px",height:"100%"}},[t("h1",[e._v("系统管理")]),t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"true","default-active":"/dashborad",height:"100%"}},[t("el-menu-item",{attrs:{index:"/device"}},[t("i",{staticClass:"el-icon-cpu"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("设备管理")])]),t("el-menu-item",{attrs:{index:"/sensor"}},[t("i",{staticClass:"el-icon-odometer"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("温湿度数据")])]),t("el-menu-item",{attrs:{index:"/dashborad"}},[t("i",{staticClass:"el-icon-monitor"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("数据可视化")])])],1)],1),t("el-main",{staticStyle:{"background-color":"#F2F6FC"},attrs:{height:"100%"}},[t("div",{staticClass:"dashboard"},[t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{ref:"lineChart",staticClass:"chart-container"})]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"chart-container"},[t("h3",[e._v("温度统计")]),t("div",{ref:"temperaturePieChart",staticStyle:{height:"200px"}})])]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"chart-container"},[t("h3",[e._v("湿度统计")]),t("div",{ref:"humidityPieChart",staticStyle:{height:"200px"}})])])],1)],1)])],1)],1)],1)},V=[],q=a(9671),M={data(){return{sensorData:[]}},mounted(){this.fetchData()},methods:{fetchData(){h.A.get("/api/sensor/dashboard",{headers:{token:f()}}).then((e=>{this.sensorData=e.data.data,this.renderLineChart(),this.renderTemperaturePieChart(),this.renderHumidityPieChart()})).catch((e=>{console.error("获取传感器数据失败：",e)}))},renderTemperaturePieChart(){const e=q.Ts(this.$refs.temperaturePieChart),t={"<0":0,"0-25":0,">25":0};this.sensorData.forEach((e=>{e.temperature<0?t["<0"]++:e.temperature<=25?t["0-25"]++:t[">25"]++}));const a={series:[{type:"pie",data:[{value:t["<0"],name:"0度以下"},{value:t["0-25"],name:"0-25度"},{value:t[">25"],name:"25度以上"}],label:{show:!0,formatter:"{b}: {c} ({d}%)"}}]};e.setOption(a)},renderHumidityPieChart(){const e=q.Ts(this.$refs.humidityPieChart),t={"0-20":0,"20-40":0,"40-60":0,"60以上":0};this.sensorData.forEach((e=>{e.humidity>=0&&e.humidity<20?t["0-20"]++:e.humidity>=20&&e.humidity<40?t["20-40"]++:e.humidity>=40&&e.humidity<60?t["40-60"]++:t["60以上"]++}));const a={series:[{type:"pie",data:[{value:t["0-20"],name:"0-20%"},{value:t["20-40"],name:"20%-40%"},{value:t["40-60"],name:"40%-60%"},{value:t["60以上"],name:"60%以上"}]}]};e.setOption(a)},renderLineChart(){const e=this.$refs.lineChart,t=q.Ts(e),a={title:{text:"温湿度变化统计"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:this.sensorData.map(((e,t)=>t+1))},yAxis:[{type:"value",name:"温度",axisLabel:{formatter:"{value} °C"}},{type:"value",name:"湿度",axisLabel:{formatter:"{value} %"}}],series:[{name:"温度",type:"line",data:this.sensorData.map((e=>e.temperature))},{name:"湿度",type:"line",yAxisIndex:1,data:this.sensorData.map((e=>e.humidity))}]};t.setOption(a)}}},N=M,R=(0,n.A)(N,B,V,!1,null,"1349addb",null),U=R.exports,H=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-header",{staticStyle:{"font-size":"40px",color:"#FFFFFF","background-color":"#0665d0"}},[e._v("环境温湿度检测系统")]),t("el-container",[t("el-aside",{attrs:{width:"230px",height:"100%"}},[t("h1",[e._v("管理员")]),t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"true","default-active":"/admin",height:"100%"}},[t("el-menu-item",{attrs:{index:"/admin"}},[t("i",{staticClass:"el-icon-s-custom"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("员工管理")])])],1)],1),t("el-main",{staticStyle:{"background-color":"#F2F6FC"}},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{attrs:{placeholder:"姓名"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-select",{attrs:{placeholder:"性别"},model:{value:e.searchForm.gender,callback:function(t){e.$set(e.searchForm,"gender",t)},expression:"searchForm.gender"}},[t("el-option",{attrs:{label:"男",value:"1"}}),t("el-option",{attrs:{label:"女",value:"2"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),t("el-button",{attrs:{type:"primary"},on:{click:e.onSava}},[e._v("新增")])],1),t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t("el-table-column",{attrs:{label:"图像",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{attrs:{src:e.row.image,width:"100px",height:"70px"}})]}}])}),t("el-table-column",{attrs:{label:"性别",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.gender?"男":"女")+" ")]}}])}),t("el-table-column",{attrs:{prop:"job",label:"职位",width:"140"}}),t("el-table-column",{attrs:{prop:"entrydate",label:"入职日期",width:"180"}}),t("el-table-column",{attrs:{prop:"updateTime",label:"最后操作时间",width:"230"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.danger(a.row.id)}}},[e._v("删除")])]}}])})],1),t("el-dialog",{attrs:{visible:e.savaDialogVisible,title:"新增员工数据"},on:{"update:visible":function(t){e.savaDialogVisible=t},close:e.handleCloseSavaDialog}},[t("el-form",{ref:"savaForm",attrs:{model:e.savaForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{model:{value:e.savaForm.username,callback:function(t){e.$set(e.savaForm,"username",t)},expression:"savaForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{model:{value:e.savaForm.name,callback:function(t){e.$set(e.savaForm,"name",t)},expression:"savaForm.name"}})],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-select",{attrs:{placeholder:"性别"},model:{value:e.savaForm.gender,callback:function(t){e.$set(e.savaForm,"gender",t)},expression:"savaForm.gender"}},[t("el-option",{attrs:{label:"男",value:"1"}}),t("el-option",{attrs:{label:"女",value:"2"}})],1)],1),t("el-form-item",{attrs:{label:"职位"}},[t("el-input",{model:{value:e.savaForm.job,callback:function(t){e.$set(e.savaForm,"job",t)},expression:"savaForm.job"}})],1),t("el-button",{attrs:{type:"primary"},on:{click:e.saveData}},[e._v("保存")])],1)],1),t("br"),t("el-pagination",{attrs:{background:"",layout:"total,sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},L=[],G={data(){return{tableData:[],searchForm:{name:"",gender:""},pagination:{page:1,pageSize:10,total:10},savaDialogVisible:!1,savaForm:{username:"",name:"",image:"",gender:"",job:""}}},created(){this.queryAllData()},methods:{saveData(){h.A.post("/api/emps",this.savaForm,{headers:{token:"admin"}}).then((e=>{this.savaDialogVisible=!1,this.updateTable()})).catch((e=>{console.error("保存数据失败：",e)}))},onSava(){this.savaDialogVisible=!0},onSubmit:function(){this.updateTable()},handleSizeChange:function(e){this.pagination.pageSize=e,this.updateTable()},handleCurrentChange:function(e){this.pagination.page=e,this.updateTable()},queryAllData(){h.A.get("/api/emps",{headers:{token:"admin"}}).then((e=>{this.pagination.total=e.data.data.total,this.tableData=e.data.data.rows})).catch((e=>{console.error("请求失败:",e)}))},updateTable(){let e={name:this.searchForm.name,gender:this.searchForm.gender,page:this.pagination.page,pageSize:this.pagination.pageSize,total:this.pagination.total};h.A.get("/api/emps",{headers:{token:f()},params:e}).then((e=>{this.pagination.total=e.data.data.total,this.tableData=e.data.data.rows})).catch((e=>{console.error("请求失败:",e)}))},danger(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{h.A.delete(`/api/emps/${e}`,{headers:{token:"admin"}}).then((()=>{this.$message({type:"success",message:"删除成功!"})})).catch((e=>{console.error("删除失败：",e)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}},mounted(){}},J=G,K=(0,n.A)(J,H,L,!1,null,null,null),Q=K.exports,W=function(){var e=this,t=e._self._c,a=e._self._setupProxy;return t("div",[t("h1",[e._v("404 Not Found BRO! 😢")]),t("button",{on:{click:a.clickHandler}},[e._v("Return Home Page")])])},X=[],Y=(a(4114),{__name:"NotFoundView",setup(e){const t=()=>{oe.push("/")};return{__sfc:!0,clickHandler:t}}}),Z=Y,ee=(0,n.A)(Z,W,X,!1,null,"31123adb",null),te=ee.exports;o["default"].use(u.Ay);const ae=new u.Ay({mode:"history",routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:C},{path:"/device",name:"deivice",component:T,meta:{requiresAuth:!0}},{path:"/sensor",name:"sensor",component:E,meta:{requiresAuth:!0}},{path:"/dashborad",name:"dashboard",component:U,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:Q,meta:{requiresAuth:!0,role:"admin"}},{path:"/404",name:"notfound",component:te},{path:"*",name:"notfound",redirect:"/404",component:te}]});ae.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuth))){const t=localStorage.getItem("username");t?e.meta.role&&t!==e.meta.role?a("/login"):a():a({path:"/login",query:{redirect:e.fullPath}})}else a()}));var oe=ae;o["default"].config.productionTip=!1,o["default"].use(v()),new o["default"]({router:oe,render:e=>e(d)}).$mount("#app")}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,r,l){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],l=e[d][2];for(var s=!0,n=0;n<o.length;n++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[n])}))?o.splice(n--,1):(s=!1,l<i&&(i=l));if(s){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,l,i=o[0],s=o[1],n=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(n)var d=n(a)}for(t&&t(o);c<i.length;c++)l=i[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},o=self["webpackChunkvue_pro"]=self["webpackChunkvue_pro"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(6151)}));o=a.O(o)})();
//# sourceMappingURL=app.bc434200.js.map